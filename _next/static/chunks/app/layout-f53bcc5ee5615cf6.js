(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{38173:function(e,a,n){Promise.resolve().then(n.t.bind(n,47960,23)),Promise.resolve().then(n.bind(n,3577)),Promise.resolve().then(n.bind(n,82891)),Promise.resolve().then(n.bind(n,82798)),Promise.resolve().then(n.bind(n,33606)),Promise.resolve().then(n.bind(n,81086)),Promise.resolve().then(n.t.bind(n,50911,23)),Promise.resolve().then(n.bind(n,19522))},3577:function(e,a,n){"use strict";n.d(a,{AuthProvider:function(){return o}});var t=n(57437),r=n(2265),s=n(99376),i=n(16023),l=n(51817);let c=["/login"];function o(e){let{children:a}=e,{user:n,loading:o,checkAuth:d}=(0,i.a)(),u=(0,s.useRouter)(),x=(0,s.usePathname)();return((0,r.useEffect)(()=>{d()},[]),(0,r.useEffect)(()=>{if(!n)return;let e=setInterval(()=>{d()},3e5);return()=>clearInterval(e)},[n]),(0,r.useEffect)(()=>{if(o)return;let e=c.includes(x);n||e?n&&"/login"===x&&u.replace("/integrations"):u.replace("/login")},[n,o,x,u]),!o&&(n||c.includes(x)))?(0,t.jsx)(t.Fragment,{children:a}):(0,t.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,t.jsx)(l.Z,{className:"h-8 w-8 animate-spin"})})}},82891:function(e,a,n){"use strict";n.d(a,{ConditionalLayout:function(){return Z}});var t=n(57437),r=n(2265),s=n(99376),i=n(10407),l=n(92451),c=n(94766),o=n(47692),d=n(85929),u=n(97226),x=n(25922),m=n(62869);function g(){let{theme:e,setTheme:a}=(0,x.F)();return(0,t.jsxs)(m.z,{variant:"ghost",size:"icon",onClick:()=>a("light"===e?"dark":"light"),className:"h-9 w-9 hover:!bg-[#f0b84d]",children:[(0,t.jsx)(d.Z,{className:"h-4 w-4 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),(0,t.jsx)(u.Z,{className:"absolute h-4 w-4 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),(0,t.jsx)("span",{className:"sr-only",children:"Mavzuni o'zgartirish"})]})}var f=n(35974),h=n(70650),v=n(94508);function b(e){let{className:a,...n}=e;return(0,t.jsx)(h.fC,{"data-slot":"avatar",className:(0,v.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",a),...n})}function p(e){let{className:a,...n}=e;return(0,t.jsx)(h.Ee,{"data-slot":"avatar-image",className:(0,v.cn)("aspect-square size-full",a),...n})}function j(e){let{className:a,...n}=e;return(0,t.jsx)(h.NY,{"data-slot":"avatar-fallback",className:(0,v.cn)("bg-muted flex size-full items-center justify-center rounded-full",a),...n})}var w=n(16023);function N(e){let{onToggleSidebar:a,sidebarCollapsed:n}=e,[d,u]=(0,r.useState)(!1),x=(0,r.useRef)(null),{user:h,logout:v}=(0,w.a)(),N=(0,s.useRouter)(),k=async()=>{u(!1),await v(),N.push("/login")};return(0,r.useEffect)(()=>{let e=e=>{x.current&&!x.current.contains(e.target)&&u(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),(0,t.jsx)("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:(0,t.jsxs)("div",{className:" flex h-16 items-center justify-between pe-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)(m.z,{variant:"ghost",size:"icon",onClick:a,className:"h-8 w-8 ms-2 hover:!bg-[#f0b84d]",children:n?(0,t.jsx)(i.Z,{className:"h-4 w-4"}):(0,t.jsx)(l.Z,{className:"h-4 w-4"})}),(0,t.jsx)("div",{className:"flex items-center gap-3",children:(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("h1",{className:"text-lg font-semibold leading-none",children:"Markaziy Bank"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Integratsiyalar reestri"})]})})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)(m.z,{variant:"ghost",size:"icon",className:"relative hover:!bg-[#f0b84d]",children:[(0,t.jsx)(c.Z,{className:"h-4 w-4"}),(0,t.jsx)(f.C,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 rounded-full p-0 text-xs",children:"3"}),(0,t.jsx)("span",{className:"sr-only",children:"Bildirishnomalar"})]}),(0,t.jsx)(g,{}),(0,t.jsxs)("div",{className:"relative",ref:x,children:[(0,t.jsx)(m.z,{variant:"ghost",className:"relative h-8 w-8 rounded-full hover:!bg-[#f0b84d]",onClick:()=>u(!d),children:(0,t.jsxs)(b,{className:"h-8 w-8",children:[(0,t.jsx)(p,{src:"/avatars/01.png",alt:"@username"}),(0,t.jsx)(j,{className:"text-[#e4a216] dark:text-inherit",children:(null==h?void 0:h.email)?h.email.split("@")[0].substring(0,2).toUpperCase():"U"})]})}),d&&(0,t.jsxs)("div",{className:"absolute right-0 top-10 w-56 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-md shadow-lg z-50",children:[(0,t.jsx)("div",{className:"p-3 border-b border-gray-200 dark:border-gray-700",children:(0,t.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium leading-none",children:"Foydalanuvchi"}),(0,t.jsx)("p",{className:"text-xs leading-none text-gray-500 dark:text-gray-400",children:(null==h?void 0:h.email)||"email@example.com"}),(0,t.jsx)("p",{className:"text-xs leading-none text-gray-500 dark:text-gray-400",children:"Administrator"})]})}),(0,t.jsxs)("div",{className:"py-1",children:[(0,t.jsx)("button",{className:"w-full text-left px-3 py-2 text-sm hover:bg-[#f0b84d] dark:hover:bg-[#f0b84d]",onClick:()=>u(!1),children:"Profil sozlamalari"}),(0,t.jsx)("button",{className:"w-full text-left px-3 py-2 text-sm hover:bg-[#f0b84d] dark:hover:bg-[#f0b84d]",onClick:()=>u(!1),children:"Yordam"}),(0,t.jsx)("hr",{className:"my-1 border-gray-200 dark:border-gray-700"}),(0,t.jsxs)("button",{onClick:k,className:"w-full text-left px-3 py-2 text-sm hover:bg-[#f0b84d] dark:hover:bg-[#f0b84d] flex items-center",children:[(0,t.jsx)(o.Z,{className:"mr-2 h-4 w-4"}),"Chiqish"]})]})]})]})]})]})})}var k=n(27648),y=n(33145),V=n(42558),I=n(50091),z=n(48736),C=n(95805),A=n(98728);let E=[{name:"Integratsiyalar",href:"/integrations",icon:I.Z,permission:"canViewIntegrations"},{name:"Audit jurnali",href:"/audit",icon:z.Z,permission:"canViewAudit"},{name:"Foydalanuvchilar",href:"/users",icon:C.Z,permission:"canViewUsers"},{name:"Sozlamalar",href:"/settings",icon:A.Z,permission:"canViewSettings"}];function M(e){let{collapsed:a}=e,n=(0,s.usePathname)(),{user:r}=(0,w.a)(),i=null==r?void 0:r.role,l=(0,V.ai)(i),c=E.filter(e=>l[e.permission]);return(0,t.jsxs)("div",{className:(0,v.cn)("relative flex flex-col border-r bg-sidebar transition-all duration-300",a?"w-16":"w-70"),children:[(0,t.jsxs)("div",{className:"flex h-16 items-center justify-center px-4 border-b",children:[!a&&(0,t.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,t.jsx)("div",{className:"relative h-10 w-10 flex-shrink-0",children:(0,t.jsx)(y.default,{src:"/logo.png",alt:"Markaziy Bank Logo",fill:!0,className:"object-contain",priority:!0})}),(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground leading-none",children:"O'zbekiston Respublikasi"}),(0,t.jsx)("h2",{className:"text-lg font-semibold text-sidebar-foreground leading-none",children:"Markaziy Banki"})]})]}),a&&(0,t.jsx)("div",{className:"relative h-8 w-8 flex-shrink-0 mx-auto",children:(0,t.jsx)(y.default,{src:"/logo.png",alt:"Markaziy Bank Logo",fill:!0,className:"object-contain",priority:!0})})]}),(0,t.jsx)("nav",{className:"flex-1 space-y-1 p-2",children:c.map(e=>{let r=n===e.href;return(0,t.jsxs)(k.default,{href:e.href,className:(0,v.cn)("flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition-colors",r?"bg-[#e4a216] text-white dark:text-black":"text-black dark:text-white hover:bg-[#f0b84d] hover:text-white dark:hover:text-black"),children:[(0,t.jsx)(e.icon,{className:"h-4 w-4 flex-shrink-0"}),!a&&(0,t.jsx)("span",{children:e.name})]},e.name)})})]})}var S=n(81086),P=n(51817);function U(){let{isLoading:e}=(0,S.r)();return e?(0,t.jsx)("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/50 backdrop-blur-sm",children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,t.jsx)(P.Z,{className:"h-12 w-12 animate-spin text-[#e4a216]"}),(0,t.jsx)("p",{className:"text-white text-sm font-medium",children:"Yuklanmoqda..."})]})}):null}function Z(e){let{children:a}=e,n=(0,s.usePathname)(),[i,l]=(0,r.useState)(!1);return"/login"===n?(0,t.jsxs)(t.Fragment,{children:[a,(0,t.jsx)(U,{})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex h-screen bg-background",children:[(0,t.jsx)(M,{collapsed:i}),(0,t.jsxs)("div",{className:"flex flex-1 flex-col overflow-hidden",children:[(0,t.jsx)(N,{onToggleSidebar:()=>l(!i),sidebarCollapsed:i}),(0,t.jsx)("main",{className:"flex-1 overflow-y-auto p-6",children:a})]})]}),(0,t.jsx)(U,{})]})}},82798:function(e,a,n){"use strict";n.d(a,{ThemeProvider:function(){return s}});var t=n(57437);n(2265);var r=n(25922);function s(e){let{children:a,...n}=e;return(0,t.jsx)(r.f,{...n,children:a})}},35974:function(e,a,n){"use strict";n.d(a,{C:function(){return c}});var t=n(57437);n(2265);var r=n(37053),s=n(90535),i=n(94508);let l=(0,s.j)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function c(e){let{className:a,variant:n,asChild:s=!1,...c}=e,o=s?r.g7:"span";return(0,t.jsx)(o,{"data-slot":"badge",className:(0,i.cn)(l({variant:n}),a),...c})}},33606:function(e,a,n){"use strict";n.d(a,{Toaster:function(){return i}});var t=n(57437),r=n(25922),s=n(14438);let i=e=>{let{...a}=e,{theme:n="system"}=(0,r.F)();return(0,t.jsx)(s.x7,{theme:n,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...a})}},42558:function(e,a,n){"use strict";function t(e){if(!e)return{canViewIntegrations:!1,canCreateIntegrations:!1,canEditIntegrations:!1,canDeleteIntegrations:!1,canViewAudit:!1,canViewUsers:!1,canManageUsers:!1,canViewSettings:!1,canManageSettings:!1,canViewAnalytics:!1};switch(e){case"Administrator":return{canViewIntegrations:!0,canCreateIntegrations:!0,canEditIntegrations:!0,canDeleteIntegrations:!0,canViewAudit:!0,canViewUsers:!0,canManageUsers:!0,canViewSettings:!0,canManageSettings:!0,canViewAnalytics:!0};case"Operator":return{canViewIntegrations:!0,canCreateIntegrations:!0,canEditIntegrations:!0,canDeleteIntegrations:!1,canViewAudit:!0,canViewUsers:!1,canManageUsers:!1,canViewSettings:!1,canManageSettings:!1,canViewAnalytics:!0};case"Viewer":return{canViewIntegrations:!0,canCreateIntegrations:!1,canEditIntegrations:!1,canDeleteIntegrations:!1,canViewAudit:!0,canViewUsers:!1,canManageUsers:!1,canViewSettings:!1,canManageSettings:!1,canViewAnalytics:!0};default:return{canViewIntegrations:!1,canCreateIntegrations:!1,canEditIntegrations:!1,canDeleteIntegrations:!1,canViewAudit:!1,canViewUsers:!1,canManageUsers:!1,canViewSettings:!1,canManageSettings:!1,canViewAnalytics:!1}}}function r(e,a){return t(e)[a]}n.d(a,{Fs:function(){return r},ai:function(){return t}})},47960:function(){}},function(e){e.O(0,[587,566,886,604,168,24,453,971,117,744],function(){return e(e.s=38173)}),_N_E=e.O()}]);