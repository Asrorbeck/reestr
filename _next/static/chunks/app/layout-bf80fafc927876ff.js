(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{95706:function(e,r,s){Promise.resolve().then(s.t.bind(s,47960,23)),Promise.resolve().then(s.bind(s,3577)),Promise.resolve().then(s.bind(s,23147)),Promise.resolve().then(s.bind(s,82798)),Promise.resolve().then(s.bind(s,33606)),Promise.resolve().then(s.t.bind(s,50911,23)),Promise.resolve().then(s.bind(s,19522))},3577:function(e,r,s){"use strict";s.d(r,{AuthProvider:function(){return c}});var a=s(57437),t=s(2265),n=s(99376),i=s(16023),l=s(51817);let o=["/login"];function c(e){let{children:r}=e,{user:s,loading:c,checkAuth:d}=(0,i.a)(),u=(0,n.useRouter)(),m=(0,n.usePathname)();return((0,t.useEffect)(()=>{d()},[]),(0,t.useEffect)(()=>{if(!s)return;let e=setInterval(()=>{d()},3e5);return()=>clearInterval(e)},[s]),(0,t.useEffect)(()=>{if(c)return;let e=o.includes(m);s||e?s&&"/login"===m&&u.replace("/integrations"):u.replace("/login")},[s,c,m,u]),!c&&(s||o.includes(m)))?(0,a.jsx)(a.Fragment,{children:r}):(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsx)(l.Z,{className:"h-8 w-8 animate-spin"})})}},23147:function(e,r,s){"use strict";s.d(r,{ConditionalLayout:function(){return _}});var a=s(57437),t=s(99376),n=s(2265),i=s(94766),l=s(47692),o=s(85929),c=s(97226),d=s(25922),u=s(62869);function m(){let{theme:e,setTheme:r}=(0,d.F)();return(0,a.jsxs)(u.z,{variant:"ghost",size:"icon",onClick:()=>r("light"===e?"dark":"light"),className:"h-9 w-9",children:[(0,a.jsx)(o.Z,{className:"h-4 w-4 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),(0,a.jsx)(c.Z,{className:"absolute h-4 w-4 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),(0,a.jsx)("span",{className:"sr-only",children:"Mavzuni o'zgartirish"})]})}var x=s(35974),h=s(70650),f=s(94508);function g(e){let{className:r,...s}=e;return(0,a.jsx)(h.fC,{"data-slot":"avatar",className:(0,f.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",r),...s})}function v(e){let{className:r,...s}=e;return(0,a.jsx)(h.Ee,{"data-slot":"avatar-image",className:(0,f.cn)("aspect-square size-full",r),...s})}function b(e){let{className:r,...s}=e;return(0,a.jsx)(h.NY,{"data-slot":"avatar-fallback",className:(0,f.cn)("bg-muted flex size-full items-center justify-center rounded-full",r),...s})}var p=s(16023);function j(){let[e,r]=(0,n.useState)(!1),s=(0,n.useRef)(null),{user:o,logout:c}=(0,p.a)(),d=(0,t.useRouter)(),h=async()=>{r(!1),await c(),d.push("/login")};return(0,n.useEffect)(()=>{let e=e=>{s.current&&!s.current.contains(e.target)&&r(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),(0,a.jsx)("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:(0,a.jsxs)("div",{className:" flex h-16 items-center justify-between pe-6",children:[(0,a.jsx)("div",{className:"flex items-center gap-4",children:(0,a.jsxs)("div",{className:"flex flex-col ms-6",children:[(0,a.jsx)("h1",{className:"text-lg font-semibold leading-none",children:"Markaziy Bank"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Integratsiyalar reestri"})]})}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)(u.z,{variant:"ghost",size:"icon",className:"relative",children:[(0,a.jsx)(i.Z,{className:"h-4 w-4"}),(0,a.jsx)(x.C,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 rounded-full p-0 text-xs",children:"3"}),(0,a.jsx)("span",{className:"sr-only",children:"Bildirishnomalar"})]}),(0,a.jsx)(m,{}),(0,a.jsxs)("div",{className:"relative",ref:s,children:[(0,a.jsx)(u.z,{variant:"ghost",className:"relative h-8 w-8 rounded-full",onClick:()=>r(!e),children:(0,a.jsxs)(g,{className:"h-8 w-8",children:[(0,a.jsx)(v,{src:"/avatars/01.png",alt:"@username"}),(0,a.jsx)(b,{children:(null==o?void 0:o.email)?o.email.split("@")[0].substring(0,2).toUpperCase():"U"})]})}),e&&(0,a.jsxs)("div",{className:"absolute right-0 top-10 w-56 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-md shadow-lg z-50",children:[(0,a.jsx)("div",{className:"p-3 border-b border-gray-200 dark:border-gray-700",children:(0,a.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium leading-none",children:"Foydalanuvchi"}),(0,a.jsx)("p",{className:"text-xs leading-none text-gray-500 dark:text-gray-400",children:(null==o?void 0:o.email)||"email@example.com"}),(0,a.jsx)("p",{className:"text-xs leading-none text-gray-500 dark:text-gray-400",children:"Administrator"})]})}),(0,a.jsxs)("div",{className:"py-1",children:[(0,a.jsx)("button",{className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>r(!1),children:"Profil sozlamalari"}),(0,a.jsx)("button",{className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>r(!1),children:"Yordam"}),(0,a.jsx)("hr",{className:"my-1 border-gray-200 dark:border-gray-700"}),(0,a.jsxs)("button",{onClick:h,className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center",children:[(0,a.jsx)(l.Z,{className:"mr-2 h-4 w-4"}),"Chiqish"]})]})]})]})]})]})})}var y=s(27648),N=s(42558),w=s(50091),k=s(48736),z=s(95805),C=s(98728),P=s(10407),Z=s(92451);let E=[{name:"Integratsiyalar",href:"/integrations",icon:w.Z,permission:"canViewIntegrations"},{name:"Audit jurnali",href:"/audit",icon:k.Z,permission:"canViewAudit"},{name:"Foydalanuvchilar",href:"/users",icon:z.Z,permission:"canViewUsers"},{name:"Sozlamalar",href:"/settings",icon:C.Z,permission:"canViewSettings"}];function F(){let[e,r]=(0,n.useState)(!1),s=(0,t.usePathname)(),{user:i}=(0,p.a)(),l=null==i?void 0:i.role,o=(0,N.ai)(l),c=E.filter(e=>o[e.permission]);return(0,a.jsxs)("div",{className:(0,f.cn)("relative flex flex-col border-r bg-sidebar transition-all duration-300",e?"w-16":"w-64"),children:[(0,a.jsxs)("div",{className:"flex h-16 items-center justify-between px-4 border-b",children:[!e&&(0,a.jsx)("h2",{className:"text-lg font-semibold text-sidebar-foreground",children:"Menyu"}),(0,a.jsx)(u.z,{variant:"ghost",size:"icon",onClick:()=>r(!e),className:"h-8 w-8",children:e?(0,a.jsx)(P.Z,{className:"h-4 w-4"}):(0,a.jsx)(Z.Z,{className:"h-4 w-4"})})]}),(0,a.jsx)("nav",{className:"flex-1 space-y-1 p-2",children:c.map(r=>{let t=s===r.href;return(0,a.jsxs)(y.default,{href:r.href,className:(0,f.cn)("flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition-colors",t?"bg-sidebar-primary text-sidebar-primary-foreground":"text-sidebar-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground"),children:[(0,a.jsx)(r.icon,{className:"h-4 w-4 flex-shrink-0"}),!e&&(0,a.jsx)("span",{children:r.name})]},r.name)})})]})}function _(e){let{children:r}=e;return"/login"===(0,t.usePathname)()?(0,a.jsx)(a.Fragment,{children:r}):(0,a.jsxs)("div",{className:"flex h-screen bg-background",children:[(0,a.jsx)(F,{}),(0,a.jsxs)("div",{className:"flex flex-1 flex-col overflow-hidden",children:[(0,a.jsx)(j,{}),(0,a.jsx)("main",{className:"flex-1 overflow-y-auto p-6",children:r})]})]})}},82798:function(e,r,s){"use strict";s.d(r,{ThemeProvider:function(){return n}});var a=s(57437);s(2265);var t=s(25922);function n(e){let{children:r,...s}=e;return(0,a.jsx)(t.f,{...s,children:r})}},35974:function(e,r,s){"use strict";s.d(r,{C:function(){return o}});var a=s(57437);s(2265);var t=s(37053),n=s(90535),i=s(94508);let l=(0,n.j)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function o(e){let{className:r,variant:s,asChild:n=!1,...o}=e,c=n?t.g7:"span";return(0,a.jsx)(c,{"data-slot":"badge",className:(0,i.cn)(l({variant:s}),r),...o})}},33606:function(e,r,s){"use strict";s.d(r,{Toaster:function(){return i}});var a=s(57437),t=s(25922),n=s(14438);let i=e=>{let{...r}=e,{theme:s="system"}=(0,t.F)();return(0,a.jsx)(n.x7,{theme:s,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...r})}},47960:function(){}},function(e){e.O(0,[587,566,886,604,168,126,371,971,117,744],function(){return e(e.s=95706)}),_N_E=e.O()}]);