(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{95706:function(e,r,s){Promise.resolve().then(s.t.bind(s,47960,23)),Promise.resolve().then(s.bind(s,3577)),Promise.resolve().then(s.bind(s,23147)),Promise.resolve().then(s.bind(s,82798)),Promise.resolve().then(s.bind(s,33606)),Promise.resolve().then(s.t.bind(s,50911,23)),Promise.resolve().then(s.bind(s,19522))},3577:function(e,r,s){"use strict";s.d(r,{AuthProvider:function(){return c}});var a=s(57437),t=s(2265),n=s(99376),i=s(16023),l=s(51817);let o=["/login"];function c(e){let{children:r}=e,{user:s,loading:c,checkAuth:d}=(0,i.a)(),u=(0,n.useRouter)(),x=(0,n.usePathname)();return((0,t.useEffect)(()=>{d()},[]),(0,t.useEffect)(()=>{if(!s)return;let e=setInterval(()=>{d()},3e5);return()=>clearInterval(e)},[s]),(0,t.useEffect)(()=>{if(c)return;let e=o.includes(x);s||e?s&&"/login"===x&&u.replace("/integrations"):u.replace("/login")},[s,c,x,u]),!c&&(s||o.includes(x)))?(0,a.jsx)(a.Fragment,{children:r}):(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsx)(l.Z,{className:"h-8 w-8 animate-spin"})})}},23147:function(e,r,s){"use strict";s.d(r,{ConditionalLayout:function(){return B}});var a=s(57437),t=s(2265),n=s(99376),i=s(10407),l=s(92451),o=s(94766),c=s(47692),d=s(85929),u=s(97226),x=s(25922),m=s(62869);function h(){let{theme:e,setTheme:r}=(0,x.F)();return(0,a.jsxs)(m.z,{variant:"ghost",size:"icon",onClick:()=>r("light"===e?"dark":"light"),className:"h-9 w-9 hover:!bg-[#f0b84d]",children:[(0,a.jsx)(d.Z,{className:"h-4 w-4 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),(0,a.jsx)(u.Z,{className:"absolute h-4 w-4 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),(0,a.jsx)("span",{className:"sr-only",children:"Mavzuni o'zgartirish"})]})}var f=s(35974),v=s(70650),g=s(94508);function b(e){let{className:r,...s}=e;return(0,a.jsx)(v.fC,{"data-slot":"avatar",className:(0,g.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",r),...s})}function p(e){let{className:r,...s}=e;return(0,a.jsx)(v.Ee,{"data-slot":"avatar-image",className:(0,g.cn)("aspect-square size-full",r),...s})}function j(e){let{className:r,...s}=e;return(0,a.jsx)(v.NY,{"data-slot":"avatar-fallback",className:(0,g.cn)("bg-muted flex size-full items-center justify-center rounded-full",r),...s})}var N=s(16023);function k(e){let{onToggleSidebar:r,sidebarCollapsed:s}=e,[d,u]=(0,t.useState)(!1),x=(0,t.useRef)(null),{user:v,logout:g}=(0,N.a)(),k=(0,n.useRouter)(),y=async()=>{u(!1),await g(),k.push("/login")};return(0,t.useEffect)(()=>{let e=e=>{x.current&&!x.current.contains(e.target)&&u(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),(0,a.jsx)("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:(0,a.jsxs)("div",{className:" flex h-16 items-center justify-between pe-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(m.z,{variant:"ghost",size:"icon",onClick:r,className:"h-8 w-8 ms-2 hover:!bg-[#f0b84d]",children:s?(0,a.jsx)(i.Z,{className:"h-4 w-4"}):(0,a.jsx)(l.Z,{className:"h-4 w-4"})}),(0,a.jsx)("div",{className:"flex items-center gap-3",children:(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("h1",{className:"text-lg font-semibold leading-none",children:"Markaziy Bank"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Integratsiyalar reestri"})]})})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)(m.z,{variant:"ghost",size:"icon",className:"relative hover:!bg-[#f0b84d]",children:[(0,a.jsx)(o.Z,{className:"h-4 w-4"}),(0,a.jsx)(f.C,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 rounded-full p-0 text-xs",children:"3"}),(0,a.jsx)("span",{className:"sr-only",children:"Bildirishnomalar"})]}),(0,a.jsx)(h,{}),(0,a.jsxs)("div",{className:"relative",ref:x,children:[(0,a.jsx)(m.z,{variant:"ghost",className:"relative h-8 w-8 rounded-full hover:!bg-[#f0b84d]",onClick:()=>u(!d),children:(0,a.jsxs)(b,{className:"h-8 w-8",children:[(0,a.jsx)(p,{src:"/avatars/01.png",alt:"@username"}),(0,a.jsx)(j,{className:"text-[#e4a216] dark:text-inherit",children:(null==v?void 0:v.email)?v.email.split("@")[0].substring(0,2).toUpperCase():"U"})]})}),d&&(0,a.jsxs)("div",{className:"absolute right-0 top-10 w-56 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-md shadow-lg z-50",children:[(0,a.jsx)("div",{className:"p-3 border-b border-gray-200 dark:border-gray-700",children:(0,a.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium leading-none",children:"Foydalanuvchi"}),(0,a.jsx)("p",{className:"text-xs leading-none text-gray-500 dark:text-gray-400",children:(null==v?void 0:v.email)||"email@example.com"}),(0,a.jsx)("p",{className:"text-xs leading-none text-gray-500 dark:text-gray-400",children:"Administrator"})]})}),(0,a.jsxs)("div",{className:"py-1",children:[(0,a.jsx)("button",{className:"w-full text-left px-3 py-2 text-sm hover:bg-[#f0b84d] dark:hover:bg-[#f0b84d]",onClick:()=>u(!1),children:"Profil sozlamalari"}),(0,a.jsx)("button",{className:"w-full text-left px-3 py-2 text-sm hover:bg-[#f0b84d] dark:hover:bg-[#f0b84d]",onClick:()=>u(!1),children:"Yordam"}),(0,a.jsx)("hr",{className:"my-1 border-gray-200 dark:border-gray-700"}),(0,a.jsxs)("button",{onClick:y,className:"w-full text-left px-3 py-2 text-sm hover:bg-[#f0b84d] dark:hover:bg-[#f0b84d] flex items-center",children:[(0,a.jsx)(c.Z,{className:"mr-2 h-4 w-4"}),"Chiqish"]})]})]})]})]})]})})}var y=s(27648),w=s(33145),z=s(42558),C=s(50091),P=s(48736),Z=s(95805),E=s(98728);let F=[{name:"Integratsiyalar",href:"/integrations",icon:C.Z,permission:"canViewIntegrations"},{name:"Audit jurnali",href:"/audit",icon:P.Z,permission:"canViewAudit"},{name:"Foydalanuvchilar",href:"/users",icon:Z.Z,permission:"canViewUsers"},{name:"Sozlamalar",href:"/settings",icon:E.Z,permission:"canViewSettings"}];function _(e){let{collapsed:r}=e,s=(0,n.usePathname)(),{user:t}=(0,N.a)(),i=null==t?void 0:t.role,l=(0,z.ai)(i),o=F.filter(e=>l[e.permission]);return(0,a.jsxs)("div",{className:(0,g.cn)("relative flex flex-col border-r bg-sidebar transition-all duration-300",r?"w-16":"w-70"),children:[(0,a.jsxs)("div",{className:"flex h-16 items-center justify-center px-4 border-b",children:[!r&&(0,a.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,a.jsx)("div",{className:"relative h-10 w-10 flex-shrink-0",children:(0,a.jsx)(w.default,{src:"/logo.png",alt:"Markaziy Bank Logo",fill:!0,className:"object-contain",priority:!0})}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground leading-none",children:"O'zbekiston Respublikasi"}),(0,a.jsx)("h2",{className:"text-lg font-semibold text-sidebar-foreground leading-none",children:"Markaziy Banki"})]})]}),r&&(0,a.jsx)("div",{className:"relative h-8 w-8 flex-shrink-0 mx-auto",children:(0,a.jsx)(w.default,{src:"/logo.png",alt:"Markaziy Bank Logo",fill:!0,className:"object-contain",priority:!0})})]}),(0,a.jsx)("nav",{className:"flex-1 space-y-1 p-2",children:o.map(e=>{let t=s===e.href;return(0,a.jsxs)(y.default,{href:e.href,className:(0,g.cn)("flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition-colors",t?"bg-[#e4a216] text-white dark:text-black":"text-black dark:text-white hover:bg-[#f0b84d] hover:text-white dark:hover:text-black"),children:[(0,a.jsx)(e.icon,{className:"h-4 w-4 flex-shrink-0"}),!r&&(0,a.jsx)("span",{children:e.name})]},e.name)})})]})}function B(e){let{children:r}=e,s=(0,n.usePathname)(),[i,l]=(0,t.useState)(!1);return"/login"===s?(0,a.jsx)(a.Fragment,{children:r}):(0,a.jsxs)("div",{className:"flex h-screen bg-background",children:[(0,a.jsx)(_,{collapsed:i}),(0,a.jsxs)("div",{className:"flex flex-1 flex-col overflow-hidden",children:[(0,a.jsx)(k,{onToggleSidebar:()=>l(!i),sidebarCollapsed:i}),(0,a.jsx)("main",{className:"flex-1 overflow-y-auto p-6",children:r})]})]})}},82798:function(e,r,s){"use strict";s.d(r,{ThemeProvider:function(){return n}});var a=s(57437);s(2265);var t=s(25922);function n(e){let{children:r,...s}=e;return(0,a.jsx)(t.f,{...s,children:r})}},35974:function(e,r,s){"use strict";s.d(r,{C:function(){return o}});var a=s(57437);s(2265);var t=s(37053),n=s(90535),i=s(94508);let l=(0,n.j)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function o(e){let{className:r,variant:s,asChild:n=!1,...o}=e,c=n?t.g7:"span";return(0,a.jsx)(c,{"data-slot":"badge",className:(0,i.cn)(l({variant:s}),r),...o})}},33606:function(e,r,s){"use strict";s.d(r,{Toaster:function(){return i}});var a=s(57437),t=s(25922),n=s(14438);let i=e=>{let{...r}=e,{theme:s="system"}=(0,t.F)();return(0,a.jsx)(n.x7,{theme:s,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...r})}},47960:function(){}},function(e){e.O(0,[587,566,886,604,168,24,371,971,117,744],function(){return e(e.s=95706)}),_N_E=e.O()}]);