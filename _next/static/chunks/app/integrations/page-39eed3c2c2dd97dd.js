(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[988],{20067:function(){},72061:function(){},92742:function(a,e,i){Promise.resolve().then(i.bind(i,94186))},94186:function(a,e,i){"use strict";i.r(e),i.d(e,{default:function(){return an}});var t=i(57437),l=i(2265),r=i(99376),s=i(20502),o=i(19522),n=i(62869),d=i(95186),m=i(53647),h=i(73578),c=i(35974),u=i(9270),g=i(30401),x=i(94508);function y(a){let{className:e,...i}=a;return(0,t.jsx)(u.fC,{"data-slot":"checkbox",className:(0,x.cn)("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...i,children:(0,t.jsx)(u.z$,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:(0,t.jsx)(g.Z,{className:"size-3.5"})})})}var k=i(26110),b=i(42208),j=i(45675),v=i(51817),p=i(18930);function N(a){let{value:e,label:i,onViewFullText:r,cellClassName:s="",textClassName:o="",maxWidth:n="max-w-sm",showButton:d=!0}=a,m=(0,l.useRef)(null),[h,c]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{let a=()=>{m.current&&c(m.current.scrollWidth>m.current.clientWidth||m.current.scrollHeight>m.current.clientHeight)};return a(),window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[e]),(0,t.jsx)("div",{className:"".concat(s),children:(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsx)("div",{ref:m,className:"truncate ".concat(n," ").concat(o),title:e,children:e}),h&&d&&(0,t.jsx)("button",{onClick:a=>r(a,i,e),className:"text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 text-xs underline flex-shrink-0 cursor-pointer w-fit",title:"To'liq o'qish",children:"Davomini o'qish"})]})})}let f={axborotTizimiNomi:{label:"Axborot tizimi yoki resursning to'liq nomi (yoki interfeys)",minWidth:"250px"},integratsiyaUsuli:{label:"Integratsiyani amalga oshirish usuli",minWidth:"300px"},malumotNomi:{label:"Uzatiladigan/qabul qilinadigan ma'lumot nomi",minWidth:"250px"},tashkilotNomiVaShakli:{label:"Integratsiya qilingan tashkilot nomi va shakli",minWidth:"250px"},asosiyMaqsad:{label:"Integratsiyadan asosiy maqsad",minWidth:"250px"},normativHuquqiyHujjat:{label:"Normativ-huquqiy hujjat",minWidth:"250px"},texnologikYoriknomaMavjudligi:{label:"Texnologik yo'riqnoma mavjudligi",minWidth:"200px"},malumotFormati:{label:"Ma'lumot formati",minWidth:"150px"},maqlumotAlmashishSharti:{label:"Ma'lumot almashish sharti",minWidth:"200px"},yangilanishDavriyligi:{label:"Ma'lumot yangilanish davriyligi",minWidth:"220px"},malumotHajmi:{label:"Ma'lumot hajmi",minWidth:"180px"},aloqaKanali:{label:"Hamkor tashkilot bilan aloqa kanali",minWidth:"220px"},oxirgiUzatishVaqti:{label:"So'nggi muvaffaqiyatli uzatish vaqti",minWidth:"220px"},markaziyBankAloqa:{label:"Markaziy bank tomonidan texnik aloqa shaxsi",minWidth:"280px"},hamkorAloqa:{label:"Hamkor tashkilot tomonidan texnik aloqa shaxsi",minWidth:"280px"},status:{label:"Integratsiya holati / statusi",minWidth:"150px"},izoh:{label:"Izoh / qo'shimcha ma'lumot",minWidth:"200px"}},q={faol:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",testda:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300",rejalashtirilgan:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300",muammoli:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300"},w={JSON:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300",XML:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-300",CSV:"bg-cyan-100 text-cyan-800 dark:bg-cyan-900 dark:text-cyan-300",SOAP:"bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-300","REST API":"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300"};function z(a){let{integrations:e,onView:i,onEdit:s,onDelete:o,userRole:d="Administrator",selectedColumns:m=[],selectedIntegrations:u=[],onSelectionChange:g,isDeleting:z=null}=a,C=(0,r.useRouter)(),[S,A]=(0,l.useState)(!1),[M,H]=(0,l.useState)(null),L=m.length>0?m:Object.keys(f),I=a=>{g&&(u.includes(a)?g(u.filter(e=>e!==a)):g([...u,a]))},T=u.length===e.length&&e.length>0,V=u.length>0&&u.length<e.length,F=(a,e,i)=>{a.stopPropagation(),H({title:e,value:i}),A(!0)},U=(a,i,t)=>{a.stopPropagation();let l=e.find(a=>a.id===i);if(null==l?void 0:l.dynamicTabs){let a=l.dynamicTabs.find(a=>a.columnKey===t);a&&C.push("/integrations/".concat(i,"?tab=").concat(a.id))}},K=(a,e)=>{var i;return null===(i=a.dynamicTabs)||void 0===i?void 0:i.find(a=>a.columnKey===e)},B=function(a,e,i,l,r){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",o=arguments.length>6?arguments[6]:void 0,n=!!K(a,e);return(0,t.jsx)(h.pj,{className:"".concat(r," border-r border-transparent group-hover:border-gray-200 dark:group-hover:border-gray-600"),children:(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsx)(N,{value:i,label:l,onViewFullText:F,cellClassName:"",textClassName:s,maxWidth:o,showButton:!n}),n&&(0,t.jsx)("button",{onClick:i=>U(i,a.id,e),className:"text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 text-xs underline flex-shrink-0 cursor-pointer w-fit mt-1",title:"Dokumentni ko'rish",children:"Dokumentni ko'rish"})]})})},O=(a,e)=>{switch(e){case"axborotTizimiNomi":return B(a,e,a.axborotTizimiNomi,f.axborotTizimiNomi.label,"font-semibold text-gray-900 dark:text-gray-100 py-4","","max-w-sm");case"integratsiyaUsuli":return B(a,e,a.integratsiyaUsuli||"",f.integratsiyaUsuli.label,"text-gray-700 dark:text-gray-300 py-4","","max-w-sm");case"malumotNomi":return B(a,e,a.malumotNomi||"",f.malumotNomi.label,"text-gray-700 dark:text-gray-300 py-4","","max-w-sm");case"tashkilotNomiVaShakli":return B(a,e,a.tashkilotNomiVaShakli||"",f.tashkilotNomiVaShakli.label,"text-gray-700 dark:text-gray-300 py-4","","max-w-sm");case"asosiyMaqsad":return B(a,e,a.asosiyMaqsad||"",f.asosiyMaqsad.label,"text-gray-700 dark:text-gray-300 py-4","","max-w-xs");case"normativHuquqiyHujjat":return B(a,e,a.normativHuquqiyHujjat||"",f.normativHuquqiyHujjat.label,"text-gray-600 dark:text-gray-400 py-4","text-sm","max-w-xs");case"texnologikYoriknomaMavjudligi":return B(a,e,a.texnologikYoriknomaMavjudligi||"",f.texnologikYoriknomaMavjudligi.label,"text-gray-700 dark:text-gray-300 py-4","","max-w-sm");case"malumotFormati":return(0,t.jsx)(h.pj,{className:"py-4 border-r border-transparent group-hover:border-gray-200 dark:group-hover:border-gray-600",children:(0,t.jsx)(c.C,{className:(0,x.cn)("text-xs font-medium px-2.5 py-1",w[a.malumotFormati]||"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300"),children:a.malumotFormati})});case"maqlumotAlmashishSharti":return B(a,e,a.maqlumotAlmashishSharti||"",f.maqlumotAlmashishSharti.label,"text-gray-700 dark:text-gray-300 py-4","","max-w-xs");case"yangilanishDavriyligi":return B(a,e,a.yangilanishDavriyligi||"",f.yangilanishDavriyligi.label,"text-gray-700 dark:text-gray-300 py-4","","max-w-xs");case"malumotHajmi":return B(a,e,a.malumotHajmi||"",f.malumotHajmi.label,"text-gray-700 dark:text-gray-300 py-4","","max-w-xs");case"aloqaKanali":return B(a,e,a.aloqaKanali||"",f.aloqaKanali.label,"text-gray-700 dark:text-gray-300 py-4","","max-w-xs");case"oxirgiUzatishVaqti":return B(a,e,a.oxirgiUzatishVaqti||"",f.oxirgiUzatishVaqti.label,"text-gray-700 dark:text-gray-300 py-4","","max-w-xs");case"markaziyBankAloqa":return B(a,e,a.markaziyBankAloqa||"",f.markaziyBankAloqa.label,"text-gray-700 dark:text-gray-300 py-4","text-sm","max-w-xs");case"hamkorAloqa":return B(a,e,a.hamkorAloqa||"",f.hamkorAloqa.label,"text-gray-700 dark:text-gray-300 py-4","text-sm","max-w-xs");case"status":return(0,t.jsx)(h.pj,{className:"text-center py-4 border-r border-transparent group-hover:border-gray-200 dark:group-hover:border-gray-600",children:(0,t.jsx)(c.C,{className:(0,x.cn)("text-xs font-medium px-2.5 py-1",q[a.status]),children:a.status})});case"izoh":return B(a,e,a.izoh||"",f.izoh.label,"text-gray-700 dark:text-gray-300 py-4","text-sm","max-w-xs");default:return null}};return(0,t.jsxs)("div",{className:"rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm bg-white dark:bg-gray-900",children:[(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)(h.iA,{className:"w-full",children:[(0,t.jsx)(h.xD,{className:"bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-700",children:(0,t.jsxs)(h.SC,{className:"hover:bg-transparent border-b border-gray-200 dark:border-gray-600",children:[(0,t.jsx)(h.ss,{className:"py-4 border-r border-gray-200 dark:border-gray-600",style:{width:"80px",minWidth:"80px",paddingLeft:0,paddingRight:0},children:(0,t.jsx)("div",{className:"flex items-center justify-center w-full",children:(0,t.jsx)(y,{checked:T,onCheckedChange:()=>{g&&(u.length===e.length?g([]):g(e.map(a=>a.id)))},className:(0,x.cn)("border-2 border-gray-300 dark:border-gray-600 data-[state=checked]:bg-blue-600 data-[state=checked]:border-blue-600 data-[state=checked]:text-white hover:border-blue-400 dark:hover:border-blue-500 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 dark:data-[state=checked]:bg-blue-600 dark:data-[state=checked]:text-white [&>span]:text-white [&>span]:dark:text-white",V&&"data-[state=indeterminate]:bg-blue-400")})})}),(0,t.jsx)(h.ss,{className:"font-semibold text-gray-900 dark:text-gray-100 py-4 text-center px-3 border-r border-gray-200 dark:border-gray-600 break-words whitespace-normal",children:(0,t.jsx)("div",{className:"break-words whitespace-normal",children:"Integratsiya identifikatori"})}),L.map(a=>{var e,i;return(0,t.jsx)(h.ss,{className:"font-semibold text-gray-900 dark:text-gray-100 py-4 text-left border-r border-gray-200 dark:border-gray-600 break-words whitespace-normal",style:{minWidth:null===(e=f[a])||void 0===e?void 0:e.minWidth},children:(0,t.jsx)("div",{className:"break-words whitespace-normal",children:null===(i=f[a])||void 0===i?void 0:i.label})},a)}),(0,t.jsx)(h.ss,{className:"font-semibold text-gray-900 dark:text-gray-100 py-4 text-right pr-6",children:"Amallar"})]})}),(0,t.jsx)(h.RM,{children:e.map((a,e)=>(0,t.jsxs)(h.SC,{className:"group hover:bg-blue-50/50 dark:hover:bg-blue-950/20 transition-all duration-200 border-b border-gray-100 dark:border-gray-700 cursor-pointer ".concat(e%2==0?"bg-white dark:bg-gray-900":"bg-gray-50/30 dark:bg-gray-800/20"),"data-integration-row":!0,onClick:()=>null==i?void 0:i(a),children:[(0,t.jsx)(h.pj,{className:"py-4 border-r border-transparent group-hover:border-gray-200 dark:group-hover:border-gray-600",style:{width:"80px",minWidth:"80px",paddingLeft:0,paddingRight:0},children:(0,t.jsx)("div",{className:"flex items-center justify-center w-full",children:(0,t.jsx)(y,{checked:u.includes(a.id),onCheckedChange:()=>I(a.id),onClick:a=>a.stopPropagation(),className:"border-2 border-gray-300 dark:border-gray-600 data-[state=checked]:bg-blue-600 data-[state=checked]:border-blue-600 data-[state=checked]:text-white hover:border-blue-400 dark:hover:border-blue-500 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 dark:data-[state=checked]:bg-blue-600 dark:data-[state=checked]:text-white [&>span]:text-white [&>span]:dark:text-white"})})}),(0,t.jsx)(h.pj,{className:"text-center text-gray-600 dark:text-gray-400 py-4 px-3 border-r border-transparent group-hover:border-gray-200 dark:group-hover:border-gray-600",children:(0,t.jsx)("div",{className:"font-mono text-sm",children:a.sequentialNumber?String(a.sequentialNumber).padStart(4,"0"):String(e+1).padStart(4,"0")})}),L.map(e=>O(a,e)),(0,t.jsx)(h.pj,{className:"text-right py-4 pr-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,t.jsx)(n.z,{variant:"outline",size:"sm",onClick:e=>{e.stopPropagation(),null==i||i(a)},className:"hover:bg-blue-50 hover:border-blue-300 dark:hover:bg-blue-950/50 dark:hover:border-blue-700 transition-colors p-2",title:"Ko'rish",children:(0,t.jsx)(b.Z,{className:"h-4 w-4"})}),("Administrator"===d||"Operator"===d)&&s&&(0,t.jsx)(n.z,{variant:"outline",size:"sm",onClick:e=>{e.stopPropagation(),null==s||s(a)},className:"hover:bg-green-50 hover:border-green-300 dark:hover:bg-green-950/50 dark:hover:border-green-700 transition-colors p-2",title:"Tahrirlash",children:(0,t.jsx)(j.Z,{className:"h-4 w-4"})}),"Administrator"===d&&o&&(0,t.jsx)(n.z,{variant:"outline",size:"sm",onClick:e=>{e.stopPropagation(),null==o||o(a)},disabled:z===a.id,className:"hover:bg-red-50 hover:border-red-300 dark:hover:bg-red-950/50 dark:hover:border-red-700 transition-colors p-2",title:"O'chirish","data-delete-button":!0,children:z===a.id?(0,t.jsx)(v.Z,{className:"h-4 w-4 animate-spin"}):(0,t.jsx)(p.Z,{className:"h-4 w-4"})})]})})]},a.id))})]})}),(0,t.jsx)(k.Vq,{open:S,onOpenChange:A,children:(0,t.jsxs)(k.cZ,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[(0,t.jsxs)(k.fK,{children:[(0,t.jsx)(k.$N,{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:null==M?void 0:M.title}),(0,t.jsx)(k.Be,{children:"To'liq ma'lumot"})]}),(0,t.jsx)("div",{className:"mt-4",children:(0,t.jsx)("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4",children:(0,t.jsx)("p",{className:"text-gray-900 dark:text-gray-100 leading-relaxed whitespace-pre-wrap break-words",children:(null==M?void 0:M.value)||"Ma'lumot mavjud emas"})})})]})})]})}var C=i(26815),S=i(76818);function A(a){let{integration:e,open:i,onOpenChange:r,onSave:s}=a,[o,h]=(0,l.useState)({axborotTizimiNomi:"",integratsiyaUsuli:"",malumotNomi:"",tashkilotNomiVaShakli:"",asosiyMaqsad:"",normativHuquqiyHujjat:"",texnologikYoriknomaMavjudligi:"",malumotFormati:"JSON",maqlumotAlmashishSharti:"",yangilanishDavriyligi:"",malumotHajmi:"",aloqaKanali:"",oxirgiUzatishVaqti:"",markaziyBankAloqa:"",hamkorAloqa:"",status:"faol",izoh:""});(0,l.useEffect)(()=>{e?h({axborotTizimiNomi:e.axborotTizimiNomi||"",integratsiyaUsuli:e.integratsiyaUsuli||"",malumotNomi:e.malumotNomi||"",tashkilotNomiVaShakli:e.tashkilotNomiVaShakli||"",asosiyMaqsad:e.asosiyMaqsad||"",normativHuquqiyHujjat:e.normativHuquqiyHujjat||"",texnologikYoriknomaMavjudligi:e.texnologikYoriknomaMavjudligi||"",malumotFormati:e.malumotFormati||"JSON",maqlumotAlmashishSharti:e.maqlumotAlmashishSharti||"",yangilanishDavriyligi:e.yangilanishDavriyligi||"",malumotHajmi:e.malumotHajmi||"",aloqaKanali:e.aloqaKanali||"",oxirgiUzatishVaqti:e.oxirgiUzatishVaqti||"",markaziyBankAloqa:e.markaziyBankAloqa||"",hamkorAloqa:e.hamkorAloqa||"",status:e.status||"faol",izoh:e.izoh||""}):h({axborotTizimiNomi:"",integratsiyaUsuli:"",malumotNomi:"",tashkilotNomiVaShakli:"",asosiyMaqsad:"",normativHuquqiyHujjat:"",texnologikYoriknomaMavjudligi:"",malumotFormati:"JSON",maqlumotAlmashishSharti:"",yangilanishDavriyligi:"",malumotHajmi:"",aloqaKanali:"",oxirgiUzatishVaqti:"",markaziyBankAloqa:"",hamkorAloqa:"",status:"faol",izoh:""})},[e,i]);let c=(a,e)=>{h(i=>({...i,[a]:e}))};return(0,t.jsx)(k.Vq,{open:i,onOpenChange:r,children:(0,t.jsxs)(k.cZ,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)(k.fK,{children:[(0,t.jsx)(k.$N,{children:e?"Integratsiyani tahrirlash":"Yangi integratsiya qo'shish"}),(0,t.jsx)(k.Be,{children:"Integratsiya ma'lumotlarini to'ldiring"})]}),(0,t.jsxs)("form",{onSubmit:a=>{a.preventDefault(),s(o),r(!1)},className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(C._,{htmlFor:"axborotTizimiNomi",children:"Axborot tizimi yoki resursning to'liq nomi (yoki interfeys) *"}),(0,t.jsx)(d.I,{id:"axborotTizimiNomi",value:o.axborotTizimiNomi,onChange:a=>c("axborotTizimiNomi",a.target.value),placeholder:"Axborot tizimi nomini kiriting",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(C._,{htmlFor:"integratsiyaUsuli",children:"Integratsiyani amalga oshirish usuli *"}),(0,t.jsx)(d.I,{id:"integratsiyaUsuli",value:o.integratsiyaUsuli,onChange:a=>c("integratsiyaUsuli",a.target.value),placeholder:"Idoralararo integrallashuv platformasi orqali yoki to'g'ridan to'g'ri",required:!0})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(C._,{htmlFor:"malumotNomi",children:"Uzatiladigan/qabul qilinadigan ma'lumot nomi *"}),(0,t.jsx)(d.I,{id:"malumotNomi",value:o.malumotNomi,onChange:a=>c("malumotNomi",a.target.value),placeholder:"Ma'lumot nomini kiriting",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(C._,{htmlFor:"tashkilotNomiVaShakli",children:"Integratsiya qilingan tashkilot nomi va shakli *"}),(0,t.jsx)(d.I,{id:"tashkilotNomiVaShakli",value:o.tashkilotNomiVaShakli,onChange:a=>c("tashkilotNomiVaShakli",a.target.value),placeholder:"Tashkilot nomi va shakli (davlat / xususiy)",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(C._,{htmlFor:"asosiyMaqsad",children:"Integratsiyadan asosiy maqsad *"}),(0,t.jsx)(S.g,{id:"asosiyMaqsad",value:o.asosiyMaqsad,onChange:a=>c("asosiyMaqsad",a.target.value),placeholder:"Integratsiyadan asosiy maqsadni kiriting",rows:3,required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(C._,{htmlFor:"normativHuquqiyHujjat",children:"Normativ-huquqiy hujjat *"}),(0,t.jsx)(d.I,{id:"normativHuquqiyHujjat",value:o.normativHuquqiyHujjat,onChange:a=>c("normativHuquqiyHujjat",a.target.value),placeholder:"Normativ-huquqiy hujjatni kiriting",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(C._,{htmlFor:"texnologikYoriknomaMavjudligi",children:"Axborot almashinuvi bo'yicha texnologik yo'riqnoma mavjudligi"}),(0,t.jsx)(d.I,{id:"texnologikYoriknomaMavjudligi",value:o.texnologikYoriknomaMavjudligi,onChange:a=>c("texnologikYoriknomaMavjudligi",a.target.value),placeholder:"Texnologik yo'riqnoma mavjudligi"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(C._,{htmlFor:"malumotFormati",children:"Ma'lumot formati *"}),(0,t.jsxs)(m.Ph,{value:o.malumotFormati,onValueChange:a=>c("malumotFormati",a),children:[(0,t.jsx)(m.i4,{id:"malumotFormati",children:(0,t.jsx)(m.ki,{})}),(0,t.jsxs)(m.Bw,{children:[(0,t.jsx)(m.Ql,{value:"JSON",children:"JSON"}),(0,t.jsx)(m.Ql,{value:"XML",children:"XML"}),(0,t.jsx)(m.Ql,{value:"CSV",children:"CSV"}),(0,t.jsx)(m.Ql,{value:"SOAP",children:"SOAP"}),(0,t.jsx)(m.Ql,{value:"REST API",children:"REST API"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(C._,{htmlFor:"status",children:"Integratsiya holati / statusi *"}),(0,t.jsxs)(m.Ph,{value:o.status,onValueChange:a=>c("status",a),children:[(0,t.jsx)(m.i4,{id:"status",children:(0,t.jsx)(m.ki,{})}),(0,t.jsxs)(m.Bw,{children:[(0,t.jsx)(m.Ql,{value:"faol",children:"Faol"}),(0,t.jsx)(m.Ql,{value:"testda",children:"Testda"}),(0,t.jsx)(m.Ql,{value:"rejalashtirilgan",children:"Rejalashtirilgan"}),(0,t.jsx)(m.Ql,{value:"muammoli",children:"Muammoli"})]})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(C._,{htmlFor:"maqlumotAlmashishSharti",children:"Ma'lumot almashish sharti"}),(0,t.jsx)(d.I,{id:"maqlumotAlmashishSharti",value:o.maqlumotAlmashishSharti,onChange:a=>c("maqlumotAlmashishSharti",a.target.value),placeholder:"So'rov-javob, push, fayl almashinuvi"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(C._,{htmlFor:"yangilanishDavriyligi",children:"Ma'lumot yangilanish davriyligi"}),(0,t.jsx)(d.I,{id:"yangilanishDavriyligi",value:o.yangilanishDavriyligi,onChange:a=>c("yangilanishDavriyligi",a.target.value),placeholder:"Real vaqt, kunlik, haftalik, oylik va hokazo"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(C._,{htmlFor:"malumotHajmi",children:"Ma'lumot hajmi"}),(0,t.jsx)(d.I,{id:"malumotHajmi",value:o.malumotHajmi,onChange:a=>c("malumotHajmi",a.target.value),placeholder:"Kunlik / oylik MB yoki GB"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(C._,{htmlFor:"aloqaKanali",children:"Hamkor tashkilot bilan aloqa kanali"}),(0,t.jsx)(d.I,{id:"aloqaKanali",value:o.aloqaKanali,onChange:a=>c("aloqaKanali",a.target.value),placeholder:"API, VPN, server va hokazo"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(C._,{htmlFor:"oxirgiUzatishVaqti",children:"So'nggi muvaffaqiyatli uzatish vaqti"}),(0,t.jsx)(d.I,{id:"oxirgiUzatishVaqti",value:o.oxirgiUzatishVaqti,onChange:a=>c("oxirgiUzatishVaqti",a.target.value),placeholder:"Tizimdan online olib beriladi"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(C._,{htmlFor:"markaziyBankAloqa",children:"Markaziy bank tomonidan texnik aloqa shaxsi"}),(0,t.jsx)(d.I,{id:"markaziyBankAloqa",value:o.markaziyBankAloqa,onChange:a=>c("markaziyBankAloqa",a.target.value),placeholder:"F.I.Sh, telefon, e-mail"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(C._,{htmlFor:"hamkorAloqa",children:"Hamkor tashkilot tomonidan texnik aloqa shaxsi"}),(0,t.jsx)(d.I,{id:"hamkorAloqa",value:o.hamkorAloqa,onChange:a=>c("hamkorAloqa",a.target.value),placeholder:"F.I.Sh, telefon, e-mail"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(C._,{htmlFor:"izoh",children:"Izoh / qo'shimcha ma'lumot"}),(0,t.jsx)(S.g,{id:"izoh",value:o.izoh,onChange:a=>c("izoh",a.target.value),placeholder:"Qo'shimcha ma'lumot",rows:3})]}),(0,t.jsxs)(k.cN,{children:[(0,t.jsx)(n.z,{type:"button",variant:"outline",onClick:()=>r(!1),children:"Bekor qilish"}),(0,t.jsx)(n.z,{type:"submit",children:e?"Saqlash":"Qo'shish"})]})]})]})})}var M=i(90740),H=i(32489),L=i(22135),I=i(40875),T=i(73247),V=i(98728),F=i(66070),U=i(74928);let K=[{value:"all",label:"Barcha formatlar"},{value:"JSON",label:"JSON"},{value:"XML",label:"XML"},{value:"CSV",label:"CSV"},{value:"SOAP",label:"SOAP"},{value:"REST API",label:"REST API"}],B=[{value:"all",label:"Barcha statuslar"},{value:"faol",label:"Faol"},{value:"testda",label:"Testda"},{value:"rejalashtirilgan",label:"Rejalashtirilgan"},{value:"muammoli",label:"Muammoli"}],O=[{key:"axborotTizimiNomi",label:"Axborot tizimi yoki resursning to'liq nomi"},{key:"integratsiyaUsuli",label:"Integratsiyani amalga oshirish usuli"},{key:"malumotNomi",label:"Uzatiladigan/qabul qilinadigan ma'lumot nomi"},{key:"tashkilotNomiVaShakli",label:"Integratsiya qilingan tashkilot nomi va shakli"},{key:"asosiyMaqsad",label:"Integratsiyadan asosiy maqsad"},{key:"normativHuquqiyHujjat",label:"Normativ-huquqiy hujjat"},{key:"texnologikYoriknomaMavjudligi",label:"Texnologik yo'riqnoma mavjudligi"},{key:"malumotFormati",label:"Ma'lumot formati"},{key:"maqlumotAlmashishSharti",label:"Ma'lumot almashish sharti"},{key:"yangilanishDavriyligi",label:"Ma'lumot yangilanish davriyligi"},{key:"malumotHajmi",label:"Ma'lumot hajmi"},{key:"aloqaKanali",label:"Hamkor tashkilot bilan aloqa kanali"},{key:"oxirgiUzatishVaqti",label:"So'nggi muvaffaqiyatli uzatish vaqti"},{key:"markaziyBankAloqa",label:"Markaziy bank tomonidan texnik aloqa shaxsi"},{key:"hamkorAloqa",label:"Hamkor tashkilot tomonidan texnik aloqa shaxsi"},{key:"status",label:"Integratsiya holati / statusi"},{key:"izoh",label:"Izoh / qo'shimcha ma'lumot"}];function _(a){let e,{onFiltersChange:i,visibleColumns:r=[],onColumnsChange:s}=a,[o,h]=(0,l.useState)(!1),[u,x]=(0,l.useState)(!1),y=(0,l.useRef)(null),[k,b]=(0,l.useState)({axborotTizimiNomi:"",integratsiyaUsuli:"",malumotNomi:"",tashkilotNomiVaShakli:"",asosiyMaqsad:"",normativHuquqiyHujjat:"",texnologikYoriknomaMavjudligi:"",malumotFormati:"all",maqlumotAlmashishSharti:"",yangilanishDavriyligi:"",malumotHajmi:"",aloqaKanali:"",oxirgiUzatishVaqti:"",markaziyBankAloqa:"",hamkorAloqa:"",status:"all",izoh:""});(0,l.useEffect)(()=>{let a=a=>{y.current&&!y.current.contains(a.target)&&x(!1)};return document.addEventListener("mousedown",a),()=>{document.removeEventListener("mousedown",a)}},[]);let j=(a,e)=>{let t={...k,[a]:e};b(t),i(t)},v=a=>{s&&(r.includes(a)?s(r.filter(e=>e!==a)):s([...r,a]))},p=()=>{let a={axborotTizimiNomi:"",integratsiyaUsuli:"",malumotNomi:"",tashkilotNomiVaShakli:"",asosiyMaqsad:"",normativHuquqiyHujjat:"",texnologikYoriknomaMavjudligi:"",malumotFormati:"all",maqlumotAlmashishSharti:"",yangilanishDavriyligi:"",malumotHajmi:"",aloqaKanali:"",oxirgiUzatishVaqti:"",markaziyBankAloqa:"",hamkorAloqa:"",status:"all",izoh:""};b(a),i(a)},N=(e=0,k.axborotTizimiNomi&&e++,k.integratsiyaUsuli&&e++,k.malumotNomi&&e++,k.tashkilotNomiVaShakli&&e++,k.asosiyMaqsad&&e++,k.normativHuquqiyHujjat&&e++,k.texnologikYoriknomaMavjudligi&&e++,"all"!==k.malumotFormati&&e++,k.maqlumotAlmashishSharti&&e++,k.yangilanishDavriyligi&&e++,k.malumotHajmi&&e++,k.aloqaKanali&&e++,k.oxirgiUzatishVaqti&&e++,k.markaziyBankAloqa&&e++,k.hamkorAloqa&&e++,"all"!==k.status&&e++,k.izoh&&e++,e);return(0,t.jsx)(F.Zb,{className:"w-full p-0 bg-white dark:bg-gray-900 border-gray-200 dark:border-gray-700",children:(0,t.jsx)(F.aY,{className:"p-0",children:(0,t.jsxs)(U.zF,{open:o,onOpenChange:h,children:[(0,t.jsx)(U.wy,{asChild:!0,children:(0,t.jsxs)("div",{className:"flex items-center justify-between p-6 cursor-pointer",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:(0,t.jsx)(M.Z,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Kengaytirilgan qidiruv"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Integratsiyalarni batafsil qidirish va filtrlash"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[N>0&&(0,t.jsxs)(c.C,{className:"bg-blue-600 text-white px-3 py-1",children:[N," filter"]}),N>0&&(0,t.jsxs)(n.z,{variant:"outline",size:"sm",onClick:a=>{a.stopPropagation(),p()},className:"text-red-600 hover:text-red-700 hover:bg-red-50 dark:text-red-400 dark:hover:text-red-300 dark:hover:bg-red-950/50",children:[(0,t.jsx)(H.Z,{className:"h-4 w-4 mr-2"}),"Tozalash"]}),(0,t.jsx)("div",{className:"p-2 hover:bg-blue-100 dark:hover:bg-blue-900/30 rounded-lg transition-all duration-200",children:o?(0,t.jsx)(L.Z,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 transition-transform duration-200"}):(0,t.jsx)(I.Z,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 transition-transform duration-200"})})]})]})}),(0,t.jsx)(U.Fw,{className:"px-6 pb-6 overflow-hidden data-[state=closed]:animate-collapsible-up data-[state=open]:animate-collapsible-down",children:(0,t.jsxs)("div",{className:"space-y-6 mt-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(C._,{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Ma'lumot formati"}),(0,t.jsxs)(m.Ph,{value:k.malumotFormati,onValueChange:a=>j("malumotFormati",a),children:[(0,t.jsx)(m.i4,{className:"w-full h-11 border-blue-200 focus:border-blue-500 focus:ring-blue-500/20",children:(0,t.jsx)(m.ki,{placeholder:"Ma'lumot formatini tanlang"})}),(0,t.jsx)(m.Bw,{children:K.map(a=>(0,t.jsx)(m.Ql,{value:a.value,children:a.label},a.value))})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(C._,{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Integratsiya holati / statusi"}),(0,t.jsxs)(m.Ph,{value:k.status,onValueChange:a=>j("status",a),children:[(0,t.jsx)(m.i4,{className:"w-full h-11 border-blue-200 focus:border-blue-500 focus:ring-blue-500/20",children:(0,t.jsx)(m.ki,{placeholder:"Statusni tanlang"})}),(0,t.jsx)(m.Bw,{children:B.map(a=>(0,t.jsx)(m.Ql,{value:a.value,children:a.label},a.value))})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(C._,{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Axborot tizimi yoki resursning to'liq nomi"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(T.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,t.jsx)(d.I,{placeholder:"Axborot tizimi nomini kiriting...",value:k.axborotTizimiNomi,onChange:a=>j("axborotTizimiNomi",a.target.value),className:"pl-10 h-11 border-blue-200 focus:border-blue-500 focus:ring-blue-500/20"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(C._,{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Integratsiyani amalga oshirish usuli"}),(0,t.jsx)(d.I,{placeholder:"Integratsiya usulini kiriting...",value:k.integratsiyaUsuli,onChange:a=>j("integratsiyaUsuli",a.target.value),className:"h-11 border-blue-200 focus:border-blue-500 focus:ring-blue-500/20"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(C._,{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Uzatiladigan/qabul qilinadigan ma'lumot nomi"}),(0,t.jsx)(d.I,{placeholder:"Ma'lumot nomini kiriting...",value:k.malumotNomi,onChange:a=>j("malumotNomi",a.target.value),className:"h-11 border-blue-200 focus:border-blue-500 focus:ring-blue-500/20"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(C._,{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Integratsiya qilingan tashkilot nomi va shakli"}),(0,t.jsx)(d.I,{placeholder:"Tashkilot nomi va shaklini kiriting...",value:k.tashkilotNomiVaShakli,onChange:a=>j("tashkilotNomiVaShakli",a.target.value),className:"h-11 border-blue-200 focus:border-blue-500 focus:ring-blue-500/20"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(C._,{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Normativ-huquqiy hujjat"}),(0,t.jsx)(d.I,{placeholder:"Hujjat nomini kiriting...",value:k.normativHuquqiyHujjat,onChange:a=>j("normativHuquqiyHujjat",a.target.value),className:"h-11 border-blue-200 focus:border-blue-500 focus:ring-blue-500/20"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(C._,{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Texnologik yo'riqnoma mavjudligi"}),(0,t.jsx)(d.I,{placeholder:"Texnologik yo'riqnoma holati...",value:k.texnologikYoriknomaMavjudligi,onChange:a=>j("texnologikYoriknomaMavjudligi",a.target.value),className:"h-11 border-blue-200 focus:border-blue-500 focus:ring-blue-500/20"})]})]}),s&&(0,t.jsxs)("div",{className:"space-y-4 border-t pt-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(V.Z,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"}),(0,t.jsx)("h4",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:"Ustunlarni tanlash"}),(0,t.jsxs)(c.C,{variant:"secondary",className:"px-2 py-0.5 text-xs",children:[r.length,"/",O.length]})]}),(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsxs)(n.z,{variant:"ghost",size:"sm",onClick:()=>{s&&s(O.map(a=>a.key))},className:"h-7 px-2 text-xs",children:[(0,t.jsx)(g.Z,{className:"h-3 w-3 mr-1"}),"Barchasi"]}),(0,t.jsxs)(n.z,{variant:"ghost",size:"sm",onClick:()=>{s&&s([])},className:"h-7 px-2 text-xs",children:[(0,t.jsx)(H.Z,{className:"h-3 w-3 mr-1"}),"Tozalash"]})]})]}),(0,t.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-2",children:O.map(a=>{let e=r.includes(a.key);return(0,t.jsx)("div",{className:"group relative p-2 rounded-lg border cursor-pointer transition-all duration-200 ".concat(e?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-800/50"),onClick:()=>v(a.key),children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"w-4 h-4 rounded border flex items-center justify-center transition-all duration-200 ".concat(e?"border-blue-500 bg-blue-500":"border-gray-300 dark:border-gray-600 group-hover:border-blue-400"),children:e&&(0,t.jsx)(g.Z,{className:"h-2.5 w-2.5 text-white"})}),(0,t.jsx)("span",{className:"text-xs font-medium transition-colors duration-200 truncate ".concat(e?"text-blue-900 dark:text-blue-100":"text-gray-900 dark:text-gray-100 group-hover:text-blue-700 dark:group-hover:text-blue-300"),children:a.label})]})},a.key)})}),r.length>0&&(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:r.map(a=>{let e=O.find(e=>e.key===a);return(0,t.jsxs)("div",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300 text-xs rounded-md",children:[(0,t.jsx)("span",{children:null==e?void 0:e.label}),(0,t.jsx)("button",{onClick:()=>v(a),className:"hover:bg-blue-200 dark:hover:bg-blue-800/50 rounded-full p-0.5",children:(0,t.jsx)(H.Z,{className:"h-2.5 w-2.5"})})]},a)})})]})]})})]})})})}var E=i(35224),Y=i(92451),D=i(10407),P=i(52264);function Z(a){let{currentPage:e,totalPages:i,pageSize:l,totalItems:r,onPageChange:s}=a,o=Math.min(e*l,r),d=(()=>{let a=[],t=[];for(let t=Math.max(2,e-2);t<=Math.min(i-1,e+2);t++)a.push(t);return e-2>2?t.push(1,"..."):t.push(1),t.push(...a),e+2<i-1?t.push("...",i):i>1&&t.push(i),t})();return i<=1?(0,t.jsx)("div",{className:"flex items-center justify-center px-4 py-3 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700",children:(0,t.jsxs)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[r," ta natija"]})}):(0,t.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700",children:[(0,t.jsxs)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[(e-1)*l+1,"-",o," / ",r," ta natija"]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(n.z,{variant:"outline",size:"sm",onClick:()=>s(1),disabled:1===e,className:"h-8 w-8 p-0 hover:bg-gray-50 dark:hover:bg-gray-800 disabled:opacity-50",children:(0,t.jsx)(E.Z,{className:"h-4 w-4"})}),(0,t.jsx)(n.z,{variant:"outline",size:"sm",onClick:()=>s(e-1),disabled:1===e,className:"h-8 w-8 p-0 hover:bg-gray-50 dark:hover:bg-gray-800 disabled:opacity-50",children:(0,t.jsx)(Y.Z,{className:"h-4 w-4"})}),(0,t.jsx)("div",{className:"flex items-center gap-1 mx-2",children:d.map((a,i)=>(0,t.jsx)("div",{children:"..."===a?(0,t.jsx)("span",{className:"px-2 py-1 text-gray-500 dark:text-gray-400",children:"..."}):(0,t.jsx)(n.z,{variant:e===a?"default":"outline",size:"sm",onClick:()=>s(a),className:"h-8 w-8 p-0 ".concat(e===a?"bg-blue-600 text-white hover:bg-blue-700":"hover:bg-gray-50 dark:hover:bg-gray-800"),children:a})},i))}),(0,t.jsx)(n.z,{variant:"outline",size:"sm",onClick:()=>s(e+1),disabled:e===i,className:"h-8 w-8 p-0 hover:bg-gray-50 dark:hover:bg-gray-800 disabled:opacity-50",children:(0,t.jsx)(D.Z,{className:"h-4 w-4"})}),(0,t.jsx)(n.z,{variant:"outline",size:"sm",onClick:()=>s(i),disabled:e===i,className:"h-8 w-8 p-0 hover:bg-gray-50 dark:hover:bg-gray-800 disabled:opacity-50",children:(0,t.jsx)(P.Z,{className:"h-4 w-4"})})]})]})}var W=i(64719);let R=[{key:"a",ctrlKey:!0,description:"Barcha rowlarni tanlash",category:"Selection"},{key:"e",ctrlKey:!0,description:"Tanlangan rowlarni Excel export qilish",category:"Export"}],Q=["All","Selection","Export"];function J(a){let{isOpen:e,onClose:i}=a,[r,s]=(0,l.useState)(""),[o,m]=(0,l.useState)("All"),h=R.filter(a=>{let e=a.description.toLowerCase().includes(r.toLowerCase())||a.key.toLowerCase().includes(r.toLowerCase()),i="All"===o||a.category===o;return e&&i}),u=a=>{let e=[];return a.ctrlKey&&e.push("Ctrl"),a.shiftKey&&e.push("Shift"),a.altKey&&e.push("Alt"),a.metaKey&&e.push("Cmd"),e.push(a.key),e.join(" + ")},g=a=>{switch(a){case"Selection":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300";case"Export":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300"}};return(0,l.useEffect)(()=>{let a=a=>{"Escape"===a.key&&e&&i()};if(e)return document.addEventListener("keydown",a),()=>document.removeEventListener("keydown",a)},[e,i]),(0,t.jsx)(k.Vq,{open:e,onOpenChange:i,children:(0,t.jsxs)(k.cZ,{className:"max-w-4xl max-h-[80vh] overflow-hidden",children:[(0,t.jsxs)(k.fK,{children:[(0,t.jsxs)(k.$N,{className:"flex items-center gap-2",children:[(0,t.jsx)(W.Z,{className:"h-5 w-5"}),"Keyboard Shortcuts"]}),(0,t.jsx)(k.Be,{children:"Integrations sahifasida foydalanish mumkin bo'lgan qisqa tugmalar"})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsxs)("div",{className:"relative flex-1",children:[(0,t.jsx)(T.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,t.jsx)(d.I,{placeholder:"Shortcut qidirish...",value:r,onChange:a=>s(a.target.value),className:"pl-10"})]}),(0,t.jsx)("div",{className:"flex gap-2",children:Q.map(a=>(0,t.jsx)(n.z,{variant:o===a?"default":"outline",size:"sm",onClick:()=>m(a),children:a},a))})]}),(0,t.jsx)("div",{className:"max-h-96 overflow-y-auto space-y-2",children:0===h.length?(0,t.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:"Hech qanday shortcut topilmadi"}):h.map((a,e)=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-card hover:bg-muted/50 transition-colors",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(c.C,{className:g(a.category),children:a.category}),(0,t.jsx)("span",{className:"text-sm font-medium",children:a.description})]}),(0,t.jsx)("div",{className:"flex items-center gap-1",children:u(a).split(" + ").map((e,i)=>(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("kbd",{className:"px-2 py-1 text-xs font-mono bg-muted rounded border",children:e}),i<u(a).split(" + ").length-1&&(0,t.jsx)("span",{className:"text-muted-foreground",children:"+"})]},i))})]},e))}),(0,t.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t",children:[(0,t.jsxs)("div",{className:"text-sm text-muted-foreground",children:[h.length," ta shortcut topildi"]}),(0,t.jsx)("div",{className:"flex gap-2",children:(0,t.jsxs)(n.z,{variant:"outline",onClick:i,children:[(0,t.jsx)(H.Z,{className:"h-4 w-4 mr-2"}),"Yopish"]})})]})]})]})})}var X=i(2093);function $(a){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"integratsiyalar",t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];!function(a){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"integratsiyalar",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],t=[{key:"nomi",label:"Nomi"},{key:"vazirlik",label:"Vazirlik"},{key:"tashkilotShakli",label:"Tashkilot shakli"},{key:"asosiyMaqsad",label:"Asosiy maqsad"},{key:"normativHuquqiyHujjat",label:"Normativ-huquqiy hujjat"},{key:"texnologikYoriknomaMavjudligi",label:"Texnologik yo'riqnoma"},{key:"texnologiya",label:"Texnologiya"},{key:"maqlumotAlmashishSharti",label:"Ma'lumot almashish sharti"},{key:"sorovlarOrtachaOylik",label:"Oylik sorovlar"},{key:"qaysiTashkilotTomondan",label:"Ma'lumot beruvchi"},{key:"mspdManzil",label:"MSPD manzili"},{key:"axborotTizimiNomi",label:"Axborot tizimi"},{key:"status",label:"Status"},{key:"createdAt",label:"Yaratilgan sana"},{key:"updatedAt",label:"Yangilangan sana"}],l=i.length>0?t.filter(a=>i.includes(a.key)):t,r=a.map((a,e)=>{let i={"T/r":e+1};return l.forEach(e=>{let t=a[e.key];"texnologikYoriknomaMavjudligi"===e.key?t=t?"Mavjud":"Yo'q":"createdAt"===e.key||"updatedAt"===e.key?t=t?new Date(t).toLocaleDateString("uz-UZ"):"":"sorovlarOrtachaOylik"===e.key&&(t="number"==typeof t?t.toLocaleString():t),i[e.label]=t}),i}),s=X.P6.book_new(),o=X.P6.json_to_sheet(r),n={nomi:30,vazirlik:25,tashkilotShakli:20,asosiyMaqsad:40,normativHuquqiyHujjat:35,texnologikYoriknomaMavjudligi:15,texnologiya:15,maqlumotAlmashishSharti:30,sorovlarOrtachaOylik:15,qaysiTashkilotTomondan:25,mspdManzil:30,axborotTizimiNomi:25,status:12,createdAt:15,updatedAt:15},d=[{wch:5},...l.map(a=>({wch:n[a.key]||20}))];o["!cols"]=d,X.P6.book_append_sheet(s,o,"Integratsiyalar");let m="".concat(e,"_").concat(new Date().toISOString().split("T")[0],".xlsx");X.NC(s,m)}(a,e?"".concat(i,"_qidiruv_").concat(e.replace(/[^a-zA-Z0-9]/g,"_")):i,t)}let G=a=>{let e=(0,l.useCallback)(e=>{let i=e.target;"INPUT"===i.tagName||"TEXTAREA"===i.tagName||"true"===i.contentEditable||i.closest('[contenteditable="true"]')||a.forEach(a=>{let{key:i,ctrlKey:t,shiftKey:l,altKey:r,metaKey:s,action:o}=a,n=t?e.ctrlKey:!e.ctrlKey,d=l?e.shiftKey:!e.shiftKey,m=r?e.altKey:!e.altKey,h=s?e.metaKey:!e.metaKey;e.key.toLowerCase()===i.toLowerCase()&&n&&d&&m&&h&&(e.preventDefault(),o())})},[a]);(0,l.useEffect)(()=>(document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)),[e])},aa=(a,e)=>{G([{key:"a",ctrlKey:!0,action:a,description:"Barcha rowlarni tanlash"},{key:"e",ctrlKey:!0,action:e,description:"Tanlangan rowlarni Excel export qilish"}])};var ae=i(16023),ai=i(42558),at=i(37099),al=i(99397),ar=i(82431),as=i(92735),ao=i(93022);function an(){let a=(0,r.useRouter)(),{user:e}=(0,ae.a)(),i=null==e?void 0:e.role,c=(0,ai.ai)(i),[u,g]=(0,l.useState)([]),[x,y]=(0,l.useState)(""),[k,b]=(0,l.useState)(null),[j,v]=(0,l.useState)(!1),[p,N]=(0,l.useState)(1),[f,q]=(0,l.useState)(10),[w,C]=(0,l.useState)({axborotTizimiNomi:"",integratsiyaUsuli:"",malumotNomi:"",tashkilotNomiVaShakli:"",asosiyMaqsad:"",normativHuquqiyHujjat:"",texnologikYoriknomaMavjudligi:"",malumotFormati:"all",maqlumotAlmashishSharti:"",yangilanishDavriyligi:"",malumotHajmi:"",aloqaKanali:"",oxirgiUzatishVaqti:"",markaziyBankAloqa:"",hamkorAloqa:"",status:"all",izoh:""}),[S,M]=(0,l.useState)(!1),[H,L]=(0,l.useState)(!1),[I,V]=(0,l.useState)([]),[F,U]=(0,l.useState)(!1),[K,B]=(0,l.useState)(null),[O,E]=(0,l.useState)(!1),[Y,D]=(0,l.useState)(null),P=(0,l.useRef)(null),[R,Q]=(0,l.useState)(["axborotTizimiNomi","integratsiyaUsuli","malumotNomi","tashkilotNomiVaShakli","asosiyMaqsad","normativHuquqiyHujjat","texnologikYoriknomaMavjudligi","malumotFormati","maqlumotAlmashishSharti","yangilanishDavriyligi","malumotHajmi","aloqaKanali","oxirgiUzatishVaqti","markaziyBankAloqa","hamkorAloqa","status","izoh"]),X=(0,l.useMemo)(()=>u.filter(a=>{let e=""===x||a.axborotTizimiNomi.toLowerCase().includes(x.toLowerCase())||a.integratsiyaUsuli.toLowerCase().includes(x.toLowerCase())||a.malumotNomi.toLowerCase().includes(x.toLowerCase())||a.tashkilotNomiVaShakli.toLowerCase().includes(x.toLowerCase())||a.asosiyMaqsad.toLowerCase().includes(x.toLowerCase())||a.normativHuquqiyHujjat.toLowerCase().includes(x.toLowerCase())||a.texnologikYoriknomaMavjudligi.toLowerCase().includes(x.toLowerCase())||a.maqlumotAlmashishSharti.toLowerCase().includes(x.toLowerCase())||a.yangilanishDavriyligi.toLowerCase().includes(x.toLowerCase())||a.malumotHajmi.toLowerCase().includes(x.toLowerCase())||a.aloqaKanali.toLowerCase().includes(x.toLowerCase())||a.oxirgiUzatishVaqti.toLowerCase().includes(x.toLowerCase())||a.markaziyBankAloqa.toLowerCase().includes(x.toLowerCase())||a.hamkorAloqa.toLowerCase().includes(x.toLowerCase())||a.izoh.toLowerCase().includes(x.toLowerCase()),i=""===w.axborotTizimiNomi||a.axborotTizimiNomi.toLowerCase().includes(w.axborotTizimiNomi.toLowerCase()),t=""===w.integratsiyaUsuli||a.integratsiyaUsuli.toLowerCase().includes(w.integratsiyaUsuli.toLowerCase()),l=""===w.malumotNomi||a.malumotNomi.toLowerCase().includes(w.malumotNomi.toLowerCase()),r=""===w.tashkilotNomiVaShakli||a.tashkilotNomiVaShakli.toLowerCase().includes(w.tashkilotNomiVaShakli.toLowerCase()),s=""===w.asosiyMaqsad||a.asosiyMaqsad.toLowerCase().includes(w.asosiyMaqsad.toLowerCase()),o=""===w.normativHuquqiyHujjat||a.normativHuquqiyHujjat.toLowerCase().includes(w.normativHuquqiyHujjat.toLowerCase()),n=""===w.texnologikYoriknomaMavjudligi||a.texnologikYoriknomaMavjudligi.toLowerCase().includes(w.texnologikYoriknomaMavjudligi.toLowerCase()),d="all"===w.malumotFormati||a.malumotFormati===w.malumotFormati,m=""===w.maqlumotAlmashishSharti||a.maqlumotAlmashishSharti.toLowerCase().includes(w.maqlumotAlmashishSharti.toLowerCase()),h=""===w.yangilanishDavriyligi||a.yangilanishDavriyligi.toLowerCase().includes(w.yangilanishDavriyligi.toLowerCase()),c=""===w.malumotHajmi||a.malumotHajmi.toLowerCase().includes(w.malumotHajmi.toLowerCase()),u=""===w.aloqaKanali||a.aloqaKanali.toLowerCase().includes(w.aloqaKanali.toLowerCase()),g=""===w.oxirgiUzatishVaqti||a.oxirgiUzatishVaqti.toLowerCase().includes(w.oxirgiUzatishVaqti.toLowerCase()),y=""===w.markaziyBankAloqa||a.markaziyBankAloqa.toLowerCase().includes(w.markaziyBankAloqa.toLowerCase()),k=""===w.hamkorAloqa||a.hamkorAloqa.toLowerCase().includes(w.hamkorAloqa.toLowerCase()),b="all"===w.status||a.status===w.status,j=""===w.izoh||a.izoh.toLowerCase().includes(w.izoh.toLowerCase());return e&&i&&t&&l&&r&&s&&o&&n&&d&&m&&h&&c&&u&&g&&y&&k&&b&&j}),[u,x,w]),G=Math.ceil(X.length/f),an=(0,l.useMemo)(()=>{let a=(p-1)*f,e=a+f;return X.slice(a,e)},[X,p,f]),ad=async()=>{if(Y)try{B(Y.id),await s.v.deleteIntegration(Y.id)?(g(a=>a.filter(a=>a.id!==Y.id)),console.log("Integratsiya o'chirildi:",Y.axborotTizimiNomi)):o.ZP.error("Integratsiyani o'chirishda xatolik yuz berdi")}catch(a){console.error("Integratsiyani o'chirishda xatolik:",a),o.ZP.error("Integratsiyani o'chirishda xatolik yuz berdi")}finally{B(null),E(!1),D(null)}},am=async a=>{try{if(k){let e=await s.v.updateIntegration(k.id,a);e&&g(a=>a.map(a=>a.id===k.id?e:a))}else{let{id:e,...i}=a,t=await s.v.addIntegration(i);g(a=>[t,...a])}}catch(a){console.error("Integratsiyani saqlashda xatolik:",a),o.ZP.error("Integratsiyani saqlashda xatolik yuz berdi")}};(0,l.useEffect)(()=>{N(1)},[x,w]),(0,l.useEffect)(()=>{(async()=>{try{U(!0),M(!0);let a=await s.v.getIntegrations();g(a)}catch(a){console.error("Integratsiyalarni yuklashda xatolik:",a),g([])}finally{U(!1)}})();let a=localStorage.getItem("integrations-page-size");if(a){let e=parseInt(a);[10,15,25,50].includes(e)&&q(e)}},[]);let ah=a=>{q(a),N(1),S&&localStorage.setItem("integrations-page-size",a.toString())},ac=()=>{if(0===I.length){alert("Hech qanday integratsiya tanlanmagan!");return}$(X.filter(a=>I.includes(a.id)),"Tanlangan ".concat(I.length," ta integratsiya"),"tanlangan-integratsiyalar",R)};return(aa(()=>{I.length===X.length?V([]):V(X.map(a=>a.id))},ac),S)?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Integratsiyalar"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Markaziy Bank va vazirliklar o'rtasidagi integratsiyalar reestri"})]}),c.canCreateIntegrations&&(0,t.jsxs)(n.z,{onClick:()=>{a.push("/integrations/new")},children:[(0,t.jsx)(al.Z,{className:"h-4 w-4 mr-2"}),"Yangi integratsiya"]})]}),(0,t.jsx)(_,{onFiltersChange:C,visibleColumns:R,onColumnsChange:Q}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"relative flex-1 max-w-sm",children:[(0,t.jsx)(T.Z,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),(0,t.jsx)(d.I,{ref:P,placeholder:"Integratsiyalarni qidirish... (Alt+F yoki Ctrl+Shift+F)",value:x,onChange:a=>y(a.target.value),className:"pl-8"})]}),(0,t.jsxs)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[X.length," ta integratsiya topildi",I.length>0&&(0,t.jsxs)("span",{className:"ml-2 text-blue-600 dark:text-blue-400 font-medium",children:["(",I.length," ta tanlangan)"]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)(n.z,{variant:"outline",size:"sm",onClick:()=>L(!0),className:"h-8 px-3",title:"Keyboard shortcuts (? key)",children:[(0,t.jsx)(W.Z,{className:"h-4 w-4 mr-2"}),"Shortcuts"]}),(0,t.jsxs)(n.z,{variant:"outline",size:"sm",onClick:async()=>{U(!0);try{let a=await s.v.getIntegrations();g(a)}catch(a){console.error("Yangilashda xatolik:",a)}finally{U(!1)}},disabled:F,className:"h-8 px-3",title:"Sahifani yangilash",children:[(0,t.jsx)(ar.Z,{className:"h-4 w-4 mr-2 ".concat(F?"animate-spin":"")}),F?"Yuklanmoqda...":"Yangilash"]}),(0,t.jsxs)(n.z,{variant:"outline",size:"sm",onClick:I.length>0?ac:()=>{$(X,x,"integratsiyalar",R)},className:"h-8 px-3 bg-green-50 hover:bg-green-100 border-green-200 text-green-700 hover:text-green-800",title:I.length>0?"Tanlangan ".concat(I.length," ta integratsiyani export qilish (Ctrl+E)"):"Barcha integratsiyalarni export qilish (Ctrl+E)",children:[(0,t.jsx)(as.Z,{className:"h-4 w-4 mr-2"}),I.length>0?"Tanlanganlarni export":"Excel yuklab olish",I.length>0&&(0,t.jsxs)("span",{className:"ml-1 text-xs opacity-75",children:["(",I.length,")"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Sahifa hajmi:"}),(0,t.jsxs)(m.Ph,{value:f.toString(),onValueChange:a=>ah(parseInt(a)),children:[(0,t.jsx)(m.i4,{className:"w-20 h-8",children:(0,t.jsx)(m.ki,{})}),(0,t.jsxs)(m.Bw,{children:[(0,t.jsx)(m.Ql,{value:"10",children:"10 ta"}),(0,t.jsx)(m.Ql,{value:"15",children:"15 ta"}),(0,t.jsx)(m.Ql,{value:"25",children:"25 ta"}),(0,t.jsx)(m.Ql,{value:"50",children:"50 ta"})]})]})]})]})]}),F?(0,t.jsx)("div",{className:"rounded-md border",children:(0,t.jsxs)(h.iA,{children:[(0,t.jsx)(h.xD,{children:(0,t.jsxs)(h.SC,{children:[(0,t.jsx)(h.ss,{className:"w-20",children:(0,t.jsx)(ao.O,{className:"h-4 w-4"})}),(0,t.jsx)(h.ss,{className:"text-center",children:(0,t.jsx)(ao.O,{className:"h-4 w-12 mx-auto"})}),R.slice(0,5).map(a=>(0,t.jsx)(h.ss,{children:(0,t.jsx)(ao.O,{className:"h-4 w-32"})},a)),(0,t.jsx)(h.ss,{className:"text-right",children:(0,t.jsx)(ao.O,{className:"h-4 w-16 ml-auto"})})]})}),(0,t.jsx)(h.RM,{children:[void 0,void 0,void 0,void 0,void 0].map((a,e)=>(0,t.jsxs)(h.SC,{children:[(0,t.jsx)(h.pj,{children:(0,t.jsx)("div",{className:"flex items-center justify-center",children:(0,t.jsx)(ao.O,{className:"h-4 w-4"})})}),(0,t.jsx)(h.pj,{className:"text-center",children:(0,t.jsx)(ao.O,{className:"h-4 w-8 mx-auto"})}),R.slice(0,5).map(a=>(0,t.jsx)(h.pj,{children:(0,t.jsx)(ao.O,{className:"h-4 w-full"})},a)),(0,t.jsx)(h.pj,{className:"text-right",children:(0,t.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,t.jsx)(ao.O,{className:"h-8 w-8"}),(0,t.jsx)(ao.O,{className:"h-8 w-8"})]})})]},e))})]})}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(z,{integrations:an,onView:e=>{a.push("/integrations/".concat(e.id))},onEdit:c.canEditIntegrations?e=>{a.push("/integrations/edit/".concat(e.id))}:void 0,onDelete:c.canDeleteIntegrations?a=>{D(a),E(!0)}:void 0,userRole:i||"Viewer",selectedColumns:R,selectedIntegrations:I,onSelectionChange:V,isDeleting:K}),0===X.length&&(0,t.jsx)("div",{className:"text-center py-12",children:(0,t.jsx)("p",{className:"text-muted-foreground",children:x?"Qidiruv bo'yicha natija topilmadi":"Hech qanday integratsiya topilmadi"})}),X.length>0&&(0,t.jsx)(Z,{currentPage:p,totalPages:G,pageSize:f,totalItems:X.length,onPageChange:a=>{N(a)}})]}),(0,t.jsx)(A,{integration:k,open:j,onOpenChange:v,onSave:am}),(0,t.jsx)(J,{isOpen:H,onClose:()=>L(!1)}),(0,t.jsx)(at.aR,{open:O,onOpenChange:E,children:(0,t.jsxs)(at._T,{children:[(0,t.jsxs)(at.fY,{children:[(0,t.jsx)(at.f$,{children:"Integratsiyani o'chirish"}),(0,t.jsxs)(at.yT,{children:['"',null==Y?void 0:Y.axborotTizimiNomi,"\" integratsiyasini o'chirishni tasdiqlaysizmi? Bu amalni bekor qilib bo'lmaydi."]})]}),(0,t.jsxs)(at.xo,{children:[(0,t.jsx)(at.le,{children:"Bekor qilish"}),(0,t.jsx)(at.OL,{onClick:ad,className:"bg-red-600 hover:bg-red-700",children:"O'chirish"})]})]})})]}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Integratsiyalar"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Markaziy Bank va vazirliklar o'rtasidagi integratsiyalar reestri"})]})}),(0,t.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,t.jsx)("div",{className:"text-muted-foreground",children:"Yuklanmoqda..."})})]})}},74928:function(a,e,i){"use strict";i.d(e,{Fw:function(){return s},wy:function(){return r},zF:function(){return l}}),i(2265);var t=i(962);let l=t.fC,r=t.wy,s=t.Fw},76818:function(a,e,i){"use strict";i.d(e,{g:function(){return r}});var t=i(57437);i(2265);var l=i(94508);function r(a){let{className:e,...i}=a;return(0,t.jsx)("textarea",{"data-slot":"textarea",className:(0,l.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...i})}}},function(a){a.O(0,[425,886,604,983,476,165,371,502,716,971,117,744],function(){return a(a.s=92742)}),_N_E=a.O()}]);